Because there is a 7-day waiting period before you can withdraw (i.e. unstake) your stake (lockToken i.e. lockETH) and owed interest (SherX), a user first must call activateCooldown to start the timer on the 7-day waiting period. When the activateCooldown function is called, we mint the SherX a user is owed and we deposit it in the SherX staker pool. This happens as a by-product of transferring the staker’s lockTokens back to our contract. We then give the user lockSherX tokens. In a separate Solidity contract (to reduce complexity in our main contract), we also make it possible to immediately trigger an activateCooldown of the lockSherX in the same block as the activateCooldown of the original lockToken (lockETH, etc.). This allows a staker to be able to receive their lockToken and their SherX interest on the same block when they are unstaking.

Once the cooldown ends, a 2-day window will open where the user can unstake their lockTokens (both the original staked token and the staked SherX). They will call the unstake function which will receive their lockToken and lockSherX, it will then swap the corresponding SherX on Uniswap for a staker’s original staked token (in this example ETH) so that a user simply receives ETH tokens from our contracts upon unstaking.
